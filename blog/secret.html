<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>歪比巴卜密文转换器</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Arial', sans-serif;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			min-height: 100vh;
			padding: 20px;
			color: #fff;
		}

		.container {
			max-width: 800px;
			margin: 0 auto;
			background: rgba(255, 255, 255, 0.1);
			border-radius: 20px;
			backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.2);
			padding: 40px;
			box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
		}

		.header {
			text-align: center;
			margin-bottom: 40px;
			position: relative;
		}

		.back-btn {
			position: absolute;
			left: 0;
			top: 50%;
			transform: translateY(-50%);
			background: rgba(255, 255, 255, 0.2);
			border: 1px solid rgba(255, 255, 255, 0.3);
			color: #fff;
			padding: 10px 15px;
			border-radius: 10px;
			cursor: pointer;
			transition: all 0.3s;
			font-size: 14px;
			text-decoration: none;
			display: flex;
			align-items: center;
			gap: 5px;
		}

		.back-btn:hover {
			background: rgba(255, 255, 255, 0.3);
			transform: translateY(-50%) translateX(-2px);
		}

		h1 {
			font-size: 32px;
			margin-bottom: 10px;
			background: linear-gradient(45deg, #fff, #e0e0e0);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		.subtitle {
			color: rgba(255, 255, 255, 0.8);
			font-size: 16px;
		}

		.form-group {
			margin-bottom: 30px;
		}

		.form-label {
			display: block;
			margin-bottom: 10px;
			font-size: 18px;
			font-weight: 600;
			color: #fff;
		}

		textarea {
			width: 100%;
			min-height: 120px;
			padding: 15px;
			font-size: 16px;
			border-radius: 12px;
			border: 1px solid rgba(255, 255, 255, 0.3);
			background: rgba(255, 255, 255, 0.9);
			resize: vertical;
			transition: all 0.3s;
			color: #333;
			font-family: inherit;
		}

		textarea:focus {
			outline: none;
			border-color: rgba(255, 255, 255, 0.6);
			box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
		}

		.button-group {
			display: flex;
			gap: 15px;
			margin-bottom: 30px;
			flex-wrap: wrap;
			justify-content: center;
		}

		button {
			padding: 12px 24px;
			font-size: 16px;
			font-weight: 600;
			border-radius: 12px;
			border: none;
			background: linear-gradient(45deg, #4CAF50, #45a049);
			color: #fff;
			cursor: pointer;
			transition: all 0.3s;
			min-width: 120px;
			box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
		}

		button:hover {
			transform: translateY(-2px);
			box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
		}

		button:active {
			transform: translateY(0);
		}

		.copy-btn {
			background: linear-gradient(45deg, #2196F3, #1976D2);
			box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
		}

		.copy-btn:hover {
			box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
		}

		@media screen and (max-width: 768px) {
			body {
				padding: 10px;
			}

			.container {
				padding: 20px;
				border-radius: 15px;
			}

			h1 {
				font-size: 24px;
			}

			.back-btn {
				position: static;
				transform: none;
				margin-bottom: 20px;
				width: fit-content;
			}

			.header {
				margin-bottom: 30px;
			}

			.button-group {
				flex-direction: column;
				align-items: center;
			}

			button {
				width: 100%;
				max-width: 200px;
			}

			textarea {
				font-size: 14px;
				min-height: 100px;
			}
		}

		@media screen and (max-width: 480px) {
			.container {
				padding: 15px;
			}

			h1 {
				font-size: 20px;
			}

			.form-label {
				font-size: 16px;
			}
		}
	</style>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
</head>
<body>
	<div class="container">
		<div class="header">
			<a href="../index.html" class="back-btn">
				<span>←</span>
				<span>返回主页</span>
			</a>
			<h1>歪比巴卜密文转换器</h1>
			<p class="subtitle">安全的AES加密解密工具</p>
		</div>

		<div class="form-group">
			<label class="form-label">请输入密文或明文:</label>
			<textarea id="input" rows="5" placeholder="在这里输入密文或明文"></textarea>
		</div>

		<div class="button-group">
			<button onclick="decrypt()">密文解密</button>
			<button onclick="encrypt()">明文加密</button>
		</div>

		<div class="form-group">
			<label class="form-label">结果:</label>
			<textarea id="output" rows="5" readonly placeholder="加密或解密结果将显示在这里"></textarea>
		</div>

		<div class="button-group">
			<button class="copy-btn" onclick="copyResult()">复制结果</button>
		</div>
	</div>

	<script>
		var key = CryptoJS.enc.Utf8.parse('1234567890123456'); // 16位密钥
		var iv = CryptoJS.enc.Utf8.parse('1234567890123456'); // 16位初始向量

		// 加密函数
		function encrypt() {
			var input = document.getElementById("input").value;
			var ciphertext = CryptoJS.AES.encrypt(input, key, {
				iv: iv,
				mode: CryptoJS.mode.CBC,
				padding: CryptoJS.pad.Pkcs7
			});
			document.getElementById("output").value = ciphertext.toString();
		}

		// 解密函数
		function decrypt() {
			var ciphertext = document.getElementById("input").value;
			var bytes = CryptoJS.AES.decrypt(ciphertext, key, {
				iv: iv,
				mode: CryptoJS.mode.CBC,
				padding: CryptoJS.pad.Pkcs7
			});
			document.getElementById("output").value = bytes.toString(CryptoJS.enc.Utf8);
		}

		// 复制结果函数
		function copyResult() {
			var output = document.getElementById("output");
			output.select();
			document.execCommand("copy");
			alert("结果已复制到剪贴板！");
		}
	</script>
</body>
</html>