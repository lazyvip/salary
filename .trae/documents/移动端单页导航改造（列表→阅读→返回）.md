## 目标
- 小屏仅展示总目录（列表）作为首页入口；点击列表项进入全文阅读视图。
- 阅读视图底部固定导航：上一篇 / 返回目录 / 下一篇；支持手指单击切换与返回。
- 刷新保留位置：地址栏 hash 路由在移动端使用 `#list` 与 `#post/<filename>`。

## 交互流程
1. 进入站点（移动端断点 <768px）：显示“列表视图”，搜索在顶部，阅读区隐藏。
2. 点击列表项 → 切换到“阅读视图”，滚动置顶；底部显示导航条。
3. 点击“返回目录” → 回到“列表视图”，滚动回上次列表位置。
4. 上一篇/下一篇：按当前索引切换文章，索引越界时禁用按钮。
5. 密码：未授权时允许浏览列表；点击阅读时弹出密码卡片。授权后保持 7 天免密。

## 技术实现
- 状态管理：新增 `uiMode: 'list' | 'reader'` 与 `setMode()`；进入/退出阅读时切换 CSS 类。
- 路由：
  - 列表 → `location.hash = '#list'`
  - 文章 → `location.hash = '#post/' + encodeURIComponent(filename)`
  - 初始加载根据 hash 决定视图与文章。
- 底部导航条（移动端专用）：`<div class="mobile-nav">` 包含三个按钮：prev/back/next；点击事件：
  - prev/next：计算相邻索引，调用 `openPost(index)`；并预取相邻正文以加速。
  - back：`setMode('list')`；恢复列表滚动位置。
- CSS 与布局：
  - 在 `<768px` 断点下：列表全屏；阅读视图为独立全屏；隐藏右下角目录浮层。
  - 固定底部导航条，安全区内边距适配 iOS（`env(safe-area-inset-bottom)`）。
- TOC：移动端默认隐藏浮层；可在阅读视图内通过按钮弹出（后续可选）。

## 改动文件
- `lazyblog/site/index.html`：
  - 添加 `mobile-nav` 容器与按钮。
- `lazyblog/site/style.css`：
  - 新增移动端断点样式：`.mode-list` 与 `.mode-reader` 布局切换；隐藏浮动目录；底部导航样式。
- `lazyblog/site/app.js`：
  - 新增 `uiMode`、`setMode()`、`applyMode()`；
  - 哈希路由解析/更新；保留列表滚动位置；
  - `openPost()` 进入阅读模式并重置滚动；
  - `openPrev()`/`openNext()` 辅助函数与预取相邻文章。

## 验证
- 真机/模拟器：iPhone/Android 小屏下验证列表→阅读→返回的完整流程。
- 刷新保留位置：`#post/<filename>` 直达阅读，`#list` 返回目录。
- 越界禁用：首篇禁用“上一篇”，末篇禁用“下一篇”。
- 密码与缓存：未授权时点击阅读弹密码；授权后正常阅读并缓存 7 天。