<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>体制内学习力转换生产力指南</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .card-container {
            width: 800px;
            background: #ffffff;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            position: relative;
        }
        
        .header {
            height: 120px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        .header-content {
            text-align: center;
            z-index: 2;
            position: relative;
        }
        
        .main-title {
            font-size: 28px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            line-height: 1.2;
        }
        
        .subtitle {
            font-size: 16px;
            color: rgba(255,255,255,0.9);
            font-weight: 500;
        }
        
        .source {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 14px;
            color: rgba(255,255,255,0.8);
            font-weight: 500;
        }
        
        .content {
            padding: 30px;
        }
        
        .summary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            color: white;
            text-align: center;
        }
        
        .summary-text {
            font-size: 18px;
            font-weight: 600;
            line-height: 1.6;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        
        .methods-section {
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 22px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: #3498db;
            font-size: 24px;
        }
        
        .method-item {
            background: #f8f9fa;
            border-left: 5px solid #3498db;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 0 10px 10px 0;
            transition: all 0.3s ease;
        }
        
        .method-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
        }
        
        .method-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: #3498db;
            color: white;
            border-radius: 50%;
            font-weight: 700;
            font-size: 16px;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .method-title {
            font-size: 18px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .method-desc {
            font-size: 16px;
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .key-points {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        
        .key-points ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .key-points li {
            font-size: 15px;
            color: #666;
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
            line-height: 1.5;
        }
        
        .key-points li::before {
            content: '👉';
            position: absolute;
            left: 0;
            top: 0;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }
        
        .highlight-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .highlight-text {
            font-size: 16px;
            line-height: 1.6;
            opacity: 0.95;
        }
        
        .target-audience {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
        }
        
        .audience-title {
            font-size: 18px;
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .audience-text {
            font-size: 16px;
            color: #2e7d32;
            line-height: 1.5;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            position: relative;
        }
        
        .footer-text {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 10px;
        }
        
        .brand {
            position: absolute;
            bottom: 15px;
            right: 20px;
            font-size: 14px;
            color: #6c757d;
            font-weight: 500;
        }
        
        .download-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
        
        .download-btn:active {
            transform: translateY(0);
        }
        
        .download-btn i {
            margin-right: 8px;
        }
        
        @media (max-width: 820px) {
            .card-container {
                width: 95%;
                margin: 0 auto;
            }
            
            .main-title {
                font-size: 24px;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="card-container" id="card">
        <div class="header">
            <div class="source">公众号@懒人搜索</div>
            <div class="header-content">
                <div class="main-title">体制内学习力转换生产力指南</div>
                <div class="subtitle">五大核心策略 · 仕途财富双丰收</div>
            </div>
        </div>
        
        <div class="content">
            <div class="summary">
                <div class="summary-text">
                    体制内学习不能沿用学生思维，要从"为知识而知识"转向"为结果而知识"，
                    让学习成为升职加速器和财富催化剂
                </div>
            </div>
            
            <div class="methods-section">
                <div class="section-title">
                    <i class="fas fa-lightbulb"></i>
                    五大核心转换策略
                </div>
                
                <div class="method-item">
                    <div class="method-title">
                        <div class="method-number">1</div>
                        明确学习游戏规则变化
                    </div>
                    <div class="method-desc">
                        从理想主义到现实主义的彻底转型，学习目标要像钉钉子一样明确
                    </div>
                    <div class="key-points">
                        <ul>
                            <li>避免沉湎专业深井，体制内需要够用的专业基础+复合解决问题能力</li>
                            <li>不要困在图书迷宫，减少"闲书"时间，多看公文材料和实用内容</li>
                            <li>为工作效能提升而学，为职场晋升铺路而学，为财富增长蓄力而学</li>
                        </ul>
                    </div>
                </div>
                
                <div class="method-item">
                    <div class="method-title">
                        <div class="method-number">2</div>
                        工作环境变能力修炼场
                    </div>
                    <div class="method-desc">
                        把基层"焦头烂额"变成最快成长密码，在实战中练就硬本事
                    </div>
                    <div class="key-points">
                        <ul>
                            <li>基层是抗压训练营和社会大学，复杂环境最能逼出韧性</li>
                            <li>练就多线程处理能力：写材料+协调会场+处理交办事务</li>
                            <li>脱胎换骨过程：敲碎理想主义想当然，剥离纸上谈兵思维</li>
                        </ul>
                    </div>
                </div>
                
                <div class="method-item">
                    <div class="method-title">
                        <div class="method-number">3</div>
                        练就人情世故真功夫
                    </div>
                    <div class="method-desc">
                        掌握中国式人际关系核心技术，学会跟三教九流打成一片的情商
                    </div>
                    <div class="key-points">
                        <ul>
                            <li>见什么人说什么话：难缠的给台阶，较真的顺脾气，不讲理的找突破口</li>
                            <li>资源整合敏感度：在合规框架内"找资源、搭桥梁"</li>
                            <li>官场语言和套路：汇报说到点子上，逢年过节如何走动拉近关系</li>
                        </ul>
                    </div>
                </div>
                
                <div class="method-item">
                    <div class="method-title">
                        <div class="method-number">4</div>
                        拓展跨学科学习边界
                    </div>
                    <div class="method-desc">
                        深耕经济学、社会学、心理学等领域，获取多元思维工具
                    </div>
                    <div class="key-points">
                        <ul>
                            <li>经济学：算清政策背后的"成本收益账"</li>
                            <li>社会学：看透纠纷背后的"群体心理"</li>
                            <li>心理学：摸准不同性格的沟通密码，理解人性复杂性</li>
                            <li>避免单一思维：用哲学辩证看利弊，用统计学严谨做判断</li>
                        </ul>
                    </div>
                </div>
                
                <div class="method-item">
                    <div class="method-title">
                        <div class="method-number">5</div>
                        主动学习财富相关内容
                    </div>
                    <div class="method-desc">
                        构建经济理解力、资本判断力和资产掌控力，让自己真正富起来
                    </div>
                    <div class="key-points">
                        <ul>
                            <li>书本理论：学习《经济学原理》等，理解财富运行底层逻辑</li>
                            <li>岗位实践：把工作变成观察财富运作的练兵场，从数据中找机会</li>
                            <li>政策解读：从中央经济工作会议等政策中寻找财富方向</li>
                            <li>实践变现：将自己的优势迅速变现，实现财富快速积累</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="highlight-box">
                <div class="highlight-title">
                    <i class="fas fa-star"></i>
                    核心要点
                </div>
                <div class="highlight-text">
                    体制内工作说到底是与人打交道。理解人性、玩转人性，
                    仕途发财就只是时间问题。认知思维改变了，官运财运就跟着来了。
                </div>
            </div>
            
            <div class="target-audience">
                <div class="audience-title">
                    <i class="fas fa-users"></i>
                    适合人群
                </div>
                <div class="audience-text">
                    体制内工作人员、准备进入体制的年轻人、希望在仕途和财富上实现突破的公务员群体
                </div>
            </div>
        </div>
        
        <div class="footer">
            <div class="footer-text">知识改变命运，学习成就未来</div>
            <div class="brand">公众号@懒人搜索</div>
        </div>
    </div>
    
    <button class="download-btn" onclick="downloadCard()">
        <i class="fas fa-download"></i>
        下载卡片
    </button>
    
    <script>
        async function downloadCard() {
            const button = document.querySelector('.download-btn');
            const originalText = button.innerHTML;
            
            try {
                button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 生成中...';
                button.disabled = true;
                
                // 等待字体和图标加载
                await document.fonts.ready;
                await new Promise(resolve => setTimeout(resolve, 500));
                
                const card = document.getElementById('card');
                
                // 强制重新计算布局
                card.getBoundingClientRect();
                
                // 临时隐藏下载按钮
                button.style.display = 'none';
                
                // 动态计算高度
                const cardRect = card.getBoundingClientRect();
                const brandElement = document.querySelector('.brand');
                const brandRect = brandElement.getBoundingClientRect();
                const distanceFromBottom = window.innerHeight - brandRect.bottom;
                
                let bufferSize;
                if (distanceFromBottom < 20) {
                    bufferSize = 80;
                } else if (distanceFromBottom < 40) {
                    bufferSize = 50;
                } else {
                    bufferSize = 30;
                }
                
                const finalHeight = Math.max(
                    card.scrollHeight,
                    card.offsetHeight,
                    card.clientHeight,
                    cardRect.height
                ) + bufferSize;
                
                // 调整底部内边距
                const footer = card.querySelector('.footer');
                const originalPadding = footer.style.paddingBottom;
                footer.style.paddingBottom = bufferSize + 'px';
                
                const canvas = await html2canvas(card, {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff',
                    width: 800,
                    height: finalHeight,
                    scrollX: 0,
                    scrollY: 0,
                    onclone: function(clonedDoc) {
                        // 图标位置精确调整
                        const clonedCard = clonedDoc.getElementById('card');
                        
                        // 强制应用所有样式
                        const allElements = clonedCard.querySelectorAll('*');
                        allElements.forEach(el => {
                            const computedStyle = window.getComputedStyle(el);
                            el.style.cssText = computedStyle.cssText;
                        });
                        
                        // 图标位置调整
                        const icons = clonedCard.querySelectorAll('i');
                        icons.forEach(icon => {
                            icon.style.display = 'inline-block';
                            icon.style.lineHeight = '0';
                            icon.style.transform = 'translateY(-1px)';
                        });
                        
                        // 标题图标特殊调整
                        const titleIcons = clonedCard.querySelectorAll('.section-title i, .highlight-title i, .audience-title i');
                        titleIcons.forEach(icon => {
                            icon.style.transform = 'translateY(-2px)';
                        });
                        
                        // 方法编号图标调整
                        const numberIcons = clonedCard.querySelectorAll('.method-number');
                        numberIcons.forEach(icon => {
                            icon.style.lineHeight = '30px';
                            icon.style.transform = 'translateY(0)';
                        });
                        
                        // 强制重新计算布局
                        clonedCard.getBoundingClientRect();
                    }
                });
                
                // 恢复原始样式
                footer.style.paddingBottom = originalPadding;
                
                // 下载图片
                const link = document.createElement('a');
                link.download = '体制内学习力转换生产力指南.png';
                link.href = canvas.toDataURL('image/png', 1.0);
                link.click();
                
            } catch (error) {
                console.error('下载失败:', error);
                alert('下载失败，请重试');
            } finally {
                // 恢复按钮
                button.style.display = 'block';
                button.innerHTML = originalText;
                button.disabled = false;
            }
        }
        
        // 预加载资源
        window.addEventListener('load', function() {
            // 预热渲染引擎
            const card = document.getElementById('card');
            card.getBoundingClientRect();
        });
    </script>
</body>
</html>